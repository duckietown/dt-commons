#!/usr/bin/env python3

import netifaces
import ipaddress

DOCKER_BRIDGE_DEFAULT_IP_NETWORK = "172.17.0.0/16"


if __name__ == '__main__':
    # get default gateway
    gateways = netifaces.gateways()
    if "default" not in gateways:
        print("NONE")
    if netifaces.AF_INET not in gateways["default"]:
        print("NONE")
    gateway_ip, _ = gateways["default"][netifaces.AF_INET]
    gateway_ip = ipaddress.ip_address(gateway_ip)
    docker_bridge_net = ipaddress.ip_network(DOCKER_BRIDGE_DEFAULT_IP_NETWORK)
    if gateway_ip in docker_bridge_net:
        print("BRIDGE")
    else:
        print("HOST")
